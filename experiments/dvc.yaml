stages:
  download_dataset_from_kaggle:
    wdir: ../
    cmd: python3 experiments/data/download_dataset.py data/external/affectnet noamsegal/affectnet-training-data
    deps:
      - experiments/data/download_dataset.py
    outs:
      - data/external/affectnet

  train_val_split:
    wdir: ../
    cmd: python3 experiments/data/make_learning_subsets.py data/external/affectnet data/processed/affectnet
    deps:
      - experiments/data/make_learning_subsets.py
      - data/external/affectnet
    outs:
      - data/processed/affectnet


  train_model:
    wdir: ../
    cmd: python3 experiments/train.py experiments/configs/fer/train.yaml models/resnet_baseline.pt models/checkpoint.pth
    deps:
      - experiments/train.py
      - experiments/configs/fer/train.yaml
    outs:
      - models/resnet_baseline.pt

