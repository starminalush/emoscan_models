stages:
  download_dataset_from_kaggle:
    wdir: ../
    cmd: python3 experiments/data/download_dataset.py data/external/fer2013
    deps:
      - experiments/data/download_dataset.py
    outs:
      - data/external/fer2013

  train_val_split:
    wdir: ../
    cmd: python3 experiments/data/make_learning_subsets.py data/external/fer2013 data/processed/fer2013
    deps:
      - experiments/data/make_learning_subsets.py
      - data/external/fer2013
    outs:
      - data/processed/fer2013


  train_model:
    wdir: ../
    cmd: python3 experiments/train.py experiments/configs/fer/train.yaml models/resnet_baseline.pt
    deps:
      - experiments/train.py
      - experiments/configs/fer/train.yaml
    outs:
      - models/resnet_baseline.pt