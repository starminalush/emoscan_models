schema: '2.0'
stages:
  download_dataset_from_kaggle:
    cmd: python3 experiments/fer/data/download_dataset.py data/external/fer2013
    deps:
    - path: experiments/fer/data/download_dataset.py
      md5: f24bbde905cb40ec4313cfeeb0abc5d5
      size: 657
    outs:
    - path: data/external/fer2013
      md5: 3a60a2cf7073f0e142e1fc108e6f7949.dir
      size: 56510189
      nfiles: 35887
  train_val_split:
    cmd: python3 experiments/fer/data/make_learning_subsets.py data/external/fer2013
      data/processed/fer2013
    deps:
    - path: data/external/fer2013
      md5: 3a60a2cf7073f0e142e1fc108e6f7949.dir
      size: 56510189
      nfiles: 35887
    - path: experiments/fer/data/make_learning_subsets.py
      md5: 68c9be459fe253ca64506ebcac936e64
      size: 839
    outs:
    - path: data/processed/fer2013
      md5: 9ba59d357798902c441d3b2353ce1cec.dir
      size: 45185869
      nfiles: 28709
  train_model:
    cmd: python3 experiments/fer/train.py experiments/fer/configs/train.yaml models/resnet_baseline.pt
    deps:
    - path: experiments/fer/configs/train.yaml
      md5: a684ba2c1ad36417b87ab803a1427a4b
      size: 188
    - path: experiments/fer/train.py
      md5: c449927e459b56da53eeae7712b2c42a
      size: 6012
    outs:
    - path: models/resnet_baseline.pt
      md5: 748c4482e4c0f3aac33b46706d2ab27d
      size: 44779565
  test_model:
    cmd: python3 experiments/fer/test.py experiments/fer/configs/train.yaml models/resnet_baseline.pt
    deps:
    - path: experiments/fer/configs/train.yaml
      md5: a684ba2c1ad36417b87ab803a1427a4b
      size: 188
    - path: experiments/fer/test.py
      md5: 3c429b08b3d175f8529591491806e445
      size: 1923
    - path: models/resnet_baseline.pt
      md5: 748c4482e4c0f3aac33b46706d2ab27d
      size: 44779565
